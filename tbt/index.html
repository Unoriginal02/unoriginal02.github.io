<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Blind Timer</title>
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body {
            background-color: #343a40; /* Dark background */
            color: #f8f9fa; /* Light text color */
        }
        h1 {
            text-align: center;
            font-weight: 700;
        }
        #countdown-display {
            font-size: 48px;
            font-weight: 600;
        }
        .content-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100vh;
        }
        .content-group {
            margin-top: -8rem; /* Adjust as needed for centering */
        }
        .shaking {
            animation: shake 0.3s infinite;
        }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
    </style>

</head>
<body>
    
    <div class="container content-container">
        <div class="row justify-content-center content-group">
            <div class="col-md-6 text-center">
                <div id="input-group">
                    <div class="d-flex justify-content-center mt-3">
                        <input type="number" id="hours-input" class="form-control" placeholder="Hours" min="0" style="width: 100px; margin-right: 10px;" required>
                        <input type="number" id="minutes-input" class="form-control" placeholder="Minutes" min="0" max="59" style="width: 100px;" required>
                    </div>
                    <button id="start-button" class="btn btn-primary mt-3">Start</button>
                </div>
                <div id="countdown-group" style="display: none;">
                    <div id="countdown-display" class="mt-3"></div>
                    <div>
                        <button id="pause-button" class="btn btn-warning mt-3">Pause</button>
                        <button id="reset-button" class="btn btn-danger mt-3">Reset</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let countdown;
        let totalSeconds;
        let originalSeconds;
        let isPaused = false;

        document.getElementById('start-button').addEventListener('click', function() {
            var hours = parseInt(document.getElementById('hours-input').value) || 0;
            var minutes = parseInt(document.getElementById('minutes-input').value) || 0;
            totalSeconds = originalSeconds = hours * 3600 + minutes * 60;

            toggleVisibility();
            startCountdown();
        });

        document.getElementById('pause-button').addEventListener('click', function() {
            if (isPaused) {
                startCountdown();
                this.textContent = 'Pause';
                this.className = 'btn btn-warning mt-3';
                isPaused = false;
            } else {
                clearInterval(countdown);
                this.textContent = 'Resume';
                this.className = 'btn btn-success mt-3';
                isPaused = true;
            }
        });

        document.getElementById('reset-button').addEventListener('click', function() {
            clearInterval(countdown);
            toggleVisibility();
        });

        function startCountdown() {
            countdown = setInterval(function() {
                updateDisplay();
                document.getElementById('countdown-display').textContent = totalSeconds--;

                if (totalSeconds < 0) {
                    clearInterval(countdown);
                    toggleVisibility();
                }
            }, 1000);
        }

        function updateDisplay() {
            let countdownDisplay = document.getElementById('countdown-display');
            let percentage = totalSeconds / originalSeconds;

            countdownDisplay.className = ''; // Reset classes

            if (percentage > 0.25) {
                countdownDisplay.classList.add('text-success');
            } else if (percentage > 0.10) {
                countdownDisplay.classList.add('text-warning');
            } else if (percentage > 0.05) {
                countdownDisplay.classList.add('text-danger');
            } else {
                countdownDisplay.classList.add('text-danger', 'shaking');
            }
        }

        function toggleVisibility() {
            var inputGroup = document.getElementById('input-group');
            var countdownGroup = document.getElementById('countdown-group');
            
            if (inputGroup.style.display === 'none') {
                inputGroup.style.display = 'block';
                countdownGroup.style.display = 'none';
            } else {
                inputGroup.style.display = 'none';
                countdownGroup.style.display = 'block';
            }
        }
    </script>

</body>
</html>
